<div class="chat-page-main-div">
    <div class="chat-page-inner-div">
        <div class="chat-label-div">
            <h1 class="header-text-direct-pt-1">Yume</h1>
            <h1 class="header-text-direct-pt-2">AI</h1>
            <button class="clear-chat-btn" (click)="clearChat()" title="Clear Chat">ğŸ—‘ï¸</button>
        </div>
        <div class="chat-window-div" #chatWindow>
            <div *ngFor="let message of messages" class="message-container"
                [ngClass]="{'user-message': message.isUser, 'bot-message': !message.isUser}">
                <div class="message-content">
                    <div class="message-text">{{ message.content }}</div>
                    <div *ngIf="message.downloadLink" class="download-section">
                        <a [href]="message.downloadLink" target="_blank" class="download-link">
                            ğŸ“¥ Download Game
                        </a>
                    </div>
                    <div class="message-time">
                        {{ message.timestamp | date:'short' }}
                    </div>
                </div>
            </div>
            <div *ngIf="isLoading" class="loading-message">
                <div class="typing-indicator">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                Yume is typing...
            </div>
        </div>
        <div class="chat-controls-div">
            <input #messageInput class="input-direct" type="text" placeholder="Ask Yume..." [(ngModel)]="currentMessage"
                (keypress)="onKeyPress($event)" [disabled]="isLoading">

            <button class="btn-send" (click)="sendMessage()" [disabled]="!currentMessage.trim() || isLoading">
                {{ isLoading ? 'Sending...' : 'Send' }}
            </button>
        </div>
    </div>
    <div class="chat-image-div">
        <img class="chat-image-direct" src="/assets/images/chat-yume-image.png" alt="Error 404, Not Found!">
    </div>
</div>
